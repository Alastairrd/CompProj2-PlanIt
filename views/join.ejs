<!DOCTYPE html>
<html>
	<head>
		<title>PLANIT Join Event</title>
		<link rel="stylesheet" type="text/css" href="/main.css" />
		<script src="/scripts.js"></script>
		<script>
			let eventUrl = <%- JSON.stringify(eventUrl) %>;
		</script>
	</head>
	<body>
		<section class="page-top">
			<!-- Heading-->
			<h1 class="title-heading">PlanIt MVP</h1>

			<!-- Progress bar -->
			<div class="progress-grey">
				<div class="progress-blue-20"></div>
			</div>

			<!-- Back button -->
			<button class="back-button" onclick="homePage()">Back</button>
		</section>
		<main id="landingSection">
			<!-- Welcome message for landing section -->
			<section class="text">
				<p class="bold">Welcome to PlanIt</p>
				<p>
					Choose whether you would like to add your availability or
					see the summary of results:
				</p>
			</section>
			<!-- Buttons to create an event or join an event -->
			<button class="create" style="left: 60%" onclick="showName()">
				Join Event
			</button>
			<a href="/summary/<%- eventUrl %>">
				<button class="join" style="left: 20%">
					Show Results
				</button>
			</a>
			
		</main>

		<main id="nameSection" style="display: none">
			<!-- Welcome message for join section -->
			<section class="text">
				<p class="bold">Welcome to PlanIt</p>
				<p>Enter your name in here:</p>
			</section>
			<form action="javascript:;" onsubmit="showCalendar()">
				<fieldset>
					<legend>Name</legend>
					<input
						type="text"
						id="name"
						name="name"
						minlength="2"
						maxlength="50"
						required
					/>
				</fieldset>
				<button type="submit" class="nextother">Next</button>
			</form>
		</main>

		<main id="Calendar" style="display: none">
			<!-- Instruction message -->
			<section class="text">
				<p>
					Swipe the times you <em>can't</em> do. <br />Click 'Next'
					when you're done to share with others:
				</p>
				<!-- Calendar and explanation button -->
				<div class="question">?</div>
			</section>

			<!-- EXPERIMENTATION -->
			<div class="grid-containment">
				<div class="main-grid">
					<!-- FOR EVERY COLUMN -->
					<!--todo remove -1-->
					<div class="day">
						<!--need a date and day of week for sizing-->
						<div class="dayslot" id="hidden-corner">
							<h1 class="date"><%=dates[0].date %></h1>
							<h2 class="date"><%=dates[0].dayOfWeek %></h2>
						</div>

						<!-- EVERY TIME PERIOD OF THE DAY -->
						<div class="timeOfDay">09:00</div>
						<div class="timeOfDay">10:00</div>
						<div class="timeOfDay">11:00</div>
						<div class="timeOfDay">12:00</div>
						<div class="timeOfDay">13:00</div>
						<div class="timeOfDay">14:00</div>
						<div class="timeOfDay">15:00</div>
						<div class="timeOfDay">16:00</div>
						<div class="timeOfDay">17:00</div>
					</div>

					<% for(var i = 0; i < dates.length ; i++) { %>

					<div class="day" id="day<%=i%>">
						<!-- FOR EVERY SLOT IN THE ROW -->
						<!--todo remove hardcoded 10 with variable for timeslots-->
						<% for(var j = 0; j < 10; j++) { %>

						<!-- IF IT IS THE FIRST ITEM IN THE COLUMN, MAKE IT THE DATE -->
						<% if(j==0) { %>
						<div class="dayslot">
							<h1 class="date"><%=dates[i].date %></h1>
							<h3 class="date"><%=dates[i].month %></h3>
							<h2 class="date"><%=dates[i].dayOfWeek %></h2>
						</div>

						<!-- IF NOT THE FIRST COLUMN, FILL AS TIMESLOT -->
						<% } else { %>
						<div class="timeslot">1</div>
						<% } %> <% } %>
					</div>
					<% } %>
				</div>
			</div>
			<!-- Next button at bottom of page-->
			<button class="next" onclick="addAvailToEvent()">NEXT</button>

			<button onclick="printData()">CONSOLE DATA TEST</button>

			<button onclick="sendMatrixData()">MATRIX DATA TEST</button>

			<button onclick="getMatrixData()">GET DATA TEST</button>

			<button onclick="calcMatrixData()">CALC DATA TEST</button>
		</main>
	</body>
</html>
